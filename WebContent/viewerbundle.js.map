{"version":3,"sources":["webpack:///webpack/bootstrap c55316681a44bc5ef83f","webpack:///external \"React\"","webpack:///./src/docubricks.ts","webpack:///./src/docubricksViewer.tsx","webpack:///external \"ReactDOM\"","webpack:///./src/index.tsx"],"names":[],"mappings":"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","file":"viewerbundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c55316681a44bc5ef83f","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","/**\n * Bill of materials\n */\nexport class Bom {\n    public bom: Map<string,number>=new Map<string,number>();  //part-id\n\n   /**\n    * Add to BOM\n    * \n    * @param p The part\n    * @param n Quantity\n    */\n    public addPart(p:string,n:number){\n        if(n==0)\n            n=1;\n        if(this.bom.has(p))\n            this.bom.set(p,this.bom.get(p)+n);\n        else\n            this.bom.set(p,n)\n    }\n    \n\n    public addBom(b:Bom,n:number){\n        if(n==0)\n            n=1;\n        for(let p of b.bom.keys()){\n            this.addPart(p,b.bom.get(p)*n);\n        }\n        \n    }\n    public isEmpty():boolean{\n        return this.bom.size==0;\n    }\n    \n}\n\n/**\n * One author\n */\nexport class Author {\n    public id: string; //Secondary copy\n    \n    public name: string;\n    public email: string;\n    public orcid: string;\n    public affiliation: string;\n\n    /**\n     * Copy (for parsing)\n     */\n    copyfrom(o:Author):void{\n        Object.assign(this,o);\n    }\n\n}\n\n/**\n * One brick\n */\nexport class Brick {\n    public id:string; //Secondary store    \n    public name: string;\n    public abstract: string;\n    public long_description: string;\n    public notes: string;\n    public license: string;\n    public files: MediaFile[];\n    public authors: [string];\n    public functions: [BrickFunction];  //should not be used after import\n    public mapFunctions:Map<string,BrickFunction>=new Map<string,BrickFunction>();\n    public instructions: StepByStepInstruction[];\n\n\n    /**\n     * Get BOM as only what this particular brick contains\n     */\n    public getBom(proj:Project, recursive:boolean):Bom {\n        var bom:Bom=new Bom();\n\n        console.log(\"functions\");\n        console.log(this.functions);\n        for(let func of this.mapFunctions.values()){\n            func.implementations.forEach(function(imp:FunctionImplementation){\n                if(imp.isPart()){\n                    var p:Part=imp.getPart(proj);\n                    //bom.addPart(p.id, +func.quantity);\n                    bom.addPart(p.id, imp.quantity);\n                } else if(imp.isBrick()){\n                    if(recursive){\n                        var b:Bom=imp.getBrick(proj).getBom(proj,true);\n                        //bom.addBom(b,+func.quantity);                    \n                        bom.addBom(b,imp.quantity);                    \n                    }\n                } else {\n                    console.log(\"bad imp type\"+imp.type);\n                }\n            });\n        }\n        console.log(\"bom\");\n        console.log(bom);\n        return bom;\n    }\n\n\n    /**\n     * Get bricks this brick has as direct children\n     */\n    public getChildBricks():Set<string> {\n        var referenced:Set<string> = new Set<string>();\n        //this.mapFunctions.values().forEach(function(func:BrickFunction){\n        for(let func of this.mapFunctions.values()){\n            func.implementations.forEach(function(imp:FunctionImplementation){\n                if(imp.isBrick()){\n                    referenced.add(imp.id);               \n                }\n            });\n        }\n        return referenced;\n    }\n    \n    /**\n     * Copy (for parsing)\n     */\n    copyfrom(o:Brick):void{\n        Object.assign(this,o);\n        this.functions=<[BrickFunction]>[];\n        var t:Brick=this;\n        //Copy sub-bricks and functions\n        o.functions.forEach(function(ofunc:BrickFunction,index:number){\n            var f:BrickFunction=new BrickFunction();\n            f.copyfrom(ofunc);\n            //t.functions.push(f);\n            f.id=\"\"+index;\n            t.mapFunctions.set(\"\"+index,f);\n        });\n    }\n\n}\n\n/**\n * One function for a brick\n */\nexport class BrickFunction {\n    public id: string;\n\n    public description: string;\n    public designator: string;\n    public quantity: string;  //deprecated\n    public implementations: FunctionImplementation[];\n\n\n    copyfrom(o:BrickFunction):void{\n        Object.assign(this,o);\n        this.implementations=<[FunctionImplementation]>[];\n        o.implementations.forEach((oi:FunctionImplementation,index:number) => {\n            var f:FunctionImplementation=new FunctionImplementation();\n            f.copyfrom(oi);\n            this.implementations.push(f);\n        });\n    }\n}\n\nexport class FunctionImplementation {\n    public type: string; //\"part\" or \"brick\"\n    public id: string;\n    public quantity: number;\n\n    public isPart():boolean{\n        return this.type==\"part\";\n    }\n    public isBrick():boolean{\n        return this.type==\"brick\";\n    }\n    public getPart(proj:Project):Part{\n        return proj.getPartByName(this.id);//parts[+this.id];\n    }\n    public getBrick(proj:Project):Brick{\n        return proj.getBrickByName(this.id);//bricks[+this.id];\n    }\n    \n    copyfrom(oi:FunctionImplementation){\n        Object.assign(this,oi);\n        /*this.id=oi.id;\n        this.quantity=oi.quantity;\n        this.type=oi.type;*/\n    }\n}\n\n/**\n * One associated file\n */\nexport class MediaFile {\n    public url: string;\n}\n\n/**\n * One part\n */\nexport class Part {\n    public id: string; //secondary\n    \n    public name: string;\n    public description: string;\n\n    public supplier: string;\n    public supplier_part_num: string;\n    public manufacturer_part_num: string;\n    public url: string;\n\n    public material_amount: string;\n    public material_unit: string;\n\n    public files: MediaFile[];\n\n    public manufacturing_instruction: StepByStepInstruction;\n\n    copyfrom(o:Part):void{\n        Object.assign(this,o);\n    }\n}\n\n/**\n * One step-by-step instruction\n */\nexport class StepByStepInstruction {\n    public name: string;\n    public steps: AssemblyStep[];\n}\n\n/**\n * One assembly step (or any instruction step)\n */\nexport class AssemblyStep {\n    public description: string;\n    public files: MediaFile[];\n    public components: AssemblyStepComponent[];\n}\n\n/**\n * reference - to be removed?\n */\nexport class AssemblyStepComponent {\n    public quantity: string;\n    public id: string;\n}\n\n\nexport class BrickTree{\n    public brick:Brick;\n    public children:BrickTree[]=[];\n}\n\n\n\n\n/**\n * One docubricks project\n */\nexport class Project {\n    public bricks:Brick[]=[];\n    public parts:Part[]=[];\n    public authors:Author[]=[];\n//    public mapBricks:Map<string,Brick>=new Map<string,Brick>();    //discards order. SHOULD use bricks[]\n    public mapParts:Map<string,Part>=new Map<string,Part>();\n    public mapAuthors:Map<string,Author>=new Map<string,Author>();\n\n\n    public getBrickByName(id:string):Brick{\n        for(let b of this.bricks)\n            if(b.id==id)\n                return b;\n        //var b:Brick=this.mapBricks.get(id)\n        //if(b===undefined){\n        console.error(\"---- no such brick \\\"\"+id+\"\\\"\");\n        console.error(this.bricks)\n        //for(let of of this.bricks)\n        //    console.error(i);\n        return null;\n        //}\n        //return b;\n    }\n    \n    public getPartByName(id:string):Part{\n        return this.mapParts.get(id);\n    }\n    \n    public getAuthorById(id:string):Author{\n        return this.mapAuthors.get(id);\n    }\n    \n    \n    /**\n     * Get all the roots. Hopefully only one\n     */\n    public getRootBricks():string[]{\n        //See what is referenced\n        var referenced:Set<string> = new Set<string>();\n   \n        //for(let b of this.mapBricks.values()){\n        for(let b of this.bricks){\n            for(let c of b.getChildBricks())\n                referenced.add(c);\n        }\n        //Pick unreferenced bricks as roots\n        var roots:string[]=[];\n        for(let b of this.bricks)\n            if(!referenced.has(b.id))\n                roots.push(b.id);\n        \n        //Backup: Pick anything as the root. Not great but better\n        if(roots.length==0)\n            for(let b of this.bricks){\n                roots.push(b.id);\n                break;\n            }\n        return roots;\n    }\n\n\n    public getBrickTree():[BrickTree]{\n        var thetree:[BrickTree]=<[BrickTree]>[];\n    \n        \n        //Pick unreferenced bricks as roots\n        var roots:string[]=this.getRootBricks();\n        var referenced:Set<string> = new Set<string>();\n        for(let b of this.bricks)\n            if(!referenced.has(b.id))\n                thetree.push(this.getBrickTreeR(this, b, referenced));\n        return thetree;\n    }\n\n    getBrickTreeR(thisProject:Project, thisbrick:Brick, referenced:Set<string>): BrickTree {\n        var t:BrickTree=new BrickTree();\n        t.brick=thisbrick;//this.mapBricks.get(thisbrick);//bricks[+thisbrick];\n        referenced.add(thisbrick.id);\n        var children:Set<string>=thisbrick.getChildBricks();\n        for(let c of children){\n            if(!referenced.has(c)){\n                t.children.push(thisProject.getBrickTreeR(thisProject, \n                        thisProject.getBrickByName(c), referenced));\n            }\n        }\n        return t;\n    }\n    \n    \n    /**\n     * For parsing only\n     */\n    public copyfrom(o:Project):void{\n        //Copy bricks\n        for(let ob of o.bricks){\n            //var ob:Brick=o.bricks[index];\n            var b:Brick=new Brick();\n            b.copyfrom(ob);\n            //var si:string=\"\"+index;\n            //b.id=si;\n            this.bricks.push(b);\n            //this.mapBricks.set(si,b);\n        };\n        //Copy parts\n        for(let op of o.parts){\n            var p:Part=new Part();\n            p.copyfrom(op);\n            this.mapParts.set(p.id,p);\n        };\n        //Copy authors\n        for(let oa of o.authors){\n            var a:Author=new Author();\n            a.copyfrom(oa);\n            this.mapAuthors.set(a.id,a);\n        };\n        \n        \n    }\n\n    /**\n     * Get the name of the project - use the name of the root brick\n     */\n    public getNameOfProject():string{\n        var roots:string[] = this.getRootBricks();\n        if(roots.length>0){\n            var root:Brick=this.getBrickByName(roots[0]);\n            return root.name;\n        } else\n            return \"\";\n    }\n}\n\n\n    \n   \n\nexport function docubricksFromJSON(s:string):Project{\n    var proj:Project=<Project>JSON.parse(s);    \n\n    var realproj:Project=new Project();\n    realproj.copyfrom(proj);\n    return realproj;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/docubricks.ts","import * as React from \"react\";\nimport * as Docubricks from \"./docubricks\";\n\n//State is never set so we use the 'undefined' type.\n\n\n\n/**\n * Main component\n */\nexport interface DocubricksProjectProps { proj: Docubricks.Project;}\nexport class DocubricksProject extends React.Component<DocubricksProjectProps, undefined> {\n\n    /**\n     * Render the tree of bricks\n     */\n    renderBrickTree(t:[Docubricks.BrickTree]){\n        var mnodes:JSX.Element[]=[];\n        for(let n of t){\n            mnodes.push(this.renderBrickTreeR(n));\n        }\n        return <ul>{mnodes}</ul>;\n    }\n    renderBrickTreeR(t:Docubricks.BrickTree){\n        var proj:Docubricks.Project=this.props.proj;\n        var mnodes:JSX.Element[]=[];\n        for(let c of t.children){\n            mnodes.push(<li key={\"treechild_\"+c.brick.id}>{this.renderBrickTreeR(c)}</li>);\n        }\n        return <div key={\"treenode_\"+t.brick.id}><a href={\"#brick_\"+t.brick.id}>{t.brick.name}</a><ul>{mnodes}</ul></div>;\n    }\n\n\n\n    /**\n     * Main rendering function\n     */\n    render() {\n        var proj:Docubricks.Project=this.props.proj;\n\n        document.title=\"DocuBricks - \"+proj.getNameOfProject();\n\n        var brickTree:[Docubricks.BrickTree] = proj.getBrickTree();\n\n        var itemsAuthors:JSX.Element[]=[];\n        for(let a of proj.mapAuthors.values()){\n            itemsAuthors.push(<Author key={\"author_\"+a.id} proj={proj} authorid={a.id}/>);\n        }\n\n        var itemsBricks:JSX.Element[]=[];\n        for(let b of proj.bricks){\n            itemsBricks.push(<div key={b.id}> <Brick proj={proj} brickid={b.id}/></div>);\n        }\n\n        var itemsParts:JSX.Element[]=[];\n        for(let b of proj.mapParts.values()){\n            itemsParts.push(<div key={b.id}> <Part proj={proj} partid={b.id}/></div>);\n        }\n\n        var itemsTotalBom:JSX.Element[]=[];\n        var roots:string[] = proj.getRootBricks();\n        if(roots.length>0){\n            var root:Docubricks.Brick=proj.getBrickByName(roots[0]);\n            var bom:Docubricks.Bom = root.getBom(proj,true);\n            itemsTotalBom.push(\n                    <div>\n                        <div className=\"divbom\">\n                            <h1 id=\"bom\">Total bill of materials for this project</h1>\n                        </div>\n                        <BomList proj={proj} bom={bom}/>\n                    </div>);\n        } else {\n            console.log(\"no root brick found for bom\");\n        }\n\n        var projectid:string=getQueryStringValue(\"id\");\n        var downloadlink=\"DownloadZip?id=\"+projectid;\n\n        return <div className=\"all\">\n        <div className=\"page-container\">\n\n            <div className=\"navbar navbar-default navbar-fixed-top\" role=\"navigation\">\n               <div className=\"container\">\n              <div className=\"navbar-header\">\n                   <button type=\"button\" className=\"navbar-toggle\" data-toggle=\"offcanvas\" data-target=\".sidebar-nav\">\n                     <span className=\"icon-bar\"></span>\n                     <span className=\"icon-bar\"></span>\n                     <span className=\"icon-bar\"></span>\n                   </button>\n                   <a className=\"navbar-brand\" href=\"./\">DocuBricks</a>\n              </div>\n               </div>\n            </div>\n\n            <div className=\"container\">\n              <div className=\"row row-offcanvas row-offcanvas-left\" >\n\n                <div className=\"col-xs-12 col-sm-3 sidebar-offcanvas no-print\" id=\"sidebar\" role=\"navigation\" >\n                    <ul className=\"nav\" data-spy=\"affix\">\n                      <li><a href={downloadlink}>Download project</a></li>\n                      <li><a className=\"accordion-toggle collapsed\" id=\"btn-1\" data-toggle=\"collapse\" data-target=\"#submenu1\" aria-expanded=\"false\">Bricks</a>\n                        <li className=\"nav collapse\" id=\"submenu1\" role=\"menu\" aria-labelledby=\"btn-1\">\n                          {this.renderBrickTree(brickTree)}\n                        </li>\n                      </li>\n                      <li><a href=\"#partstart\">Parts</a></li>\n                      <li><a href=\"#bom\">Bill of materials</a></li>\n                      <li><a href=\"#authors\">Authors</a></li>\n                    </ul>\n                </div>\n\n                <div className=\"col-xs-12 col-sm-9\" id=\"main-content\">\n                  <div>\n                      <div id=\"brickstart\">\n                          {itemsBricks}\n                      </div>\n                      <div id=\"partstart\">\n                          {itemsParts}\n                      </div>\n                      <div className=\"brickdiv\">\n                          <h3 id=\"authors\">Authors</h3>\n                      </div>\n                      <table>\n                          <thead>\n                              <tr>\n                                  <th>Name</th>\n                                  <th>E-mail</th>\n                                  <th>Affiliation</th>\n                                  <th>ORCID</th>\n                              </tr>\n                          </thead>\n                          <tbody>\n                              {itemsAuthors}\n                          </tbody>\n                      </table>\n                      {itemsTotalBom}\n                  </div>\n\n\n                </div>\n            </div>\n          </div>\n        </div>\n        </div>;\n\n    }\n}\n\n\n\n\n\n\n\n\n\n\n/**\n * One brick\n **/\nexport interface BrickProps {proj: Docubricks.Project; brickid:string;}\nexport class Brick extends React.Component<BrickProps, undefined> {\n render() {\n     var proj:Docubricks.Project=this.props.proj;\n     var brickid:string=this.props.brickid;\n     var brick:Docubricks.Brick=proj.getBrickByName(brickid);\n     var brickkey=\"brick\"+this.props.brickid;\n\n     const pStyle = {\n         textAlign: \"left\" //text-align\n       };\n\n     var mnodes:JSX.Element[]=[];\n     var addField=function(name:string,value:string):void{\n         if(value!=\"\")\n             mnodes.push(<p key={brickkey+\"_\"+name}><b>{name}: </b>{value}</p>);\n     }\n     addField(\"Description\",brick.long_description);\n     mnodes.push(<p key={brickkey+\"_brickabstract\"} >{brick.abstract}</p>);\n     mnodes.push(<Files key={brickkey+\"_files\"} proj={proj} files={brick.files} basekey={brickkey}/>);\n\n     addField(\"License\",brick.license);\n     addField(\"Notes\",brick.notes);\n\n     //Authors\n     if(brick.authors.length!=0){\n         var alist:string=\"\";\n         for(let aid of brick.authors){\n             var a:Docubricks.Author=proj.getAuthorById(aid);\n             if(alist.length!=0){\n                 alist=alist+\", \"+a.name;\n             } else\n                 alist=a.name;\n         }\n         addField(\"Authors\",alist);\n     }\n\n     //Functions & implementations\n     var reqnodes:JSX.Element[]=[];\n     for(let func of brick.mapFunctions.values()){\n         var fnodes:JSX.Element[]=[];\n         for(let imp of func.implementations){\n             var impend:string=\"\";\n             if(fnodes.length!=0)\n                 fnodes.push(<b>, </b>);\n             if(imp.isPart()){\n                 var ip:Docubricks.Part=imp.getPart(proj);\n                 fnodes.push(<a href={\"#part_\"+imp.id}>{ip.name} <b>x {imp.quantity}</b></a>);\n             } else if(imp.isBrick()){\n                 var ib:Docubricks.Brick=imp.getBrick(proj);\n                 fnodes.push(<a href={\"#brick_\"+imp.id}>{ib.name} <b>x {imp.quantity}</b></a>);\n             }\n         }\n         var desc:string=\"\";\n         if(func.description!=\"\")\n             desc=func.description+\": \";\n         reqnodes.push(<li><b>{desc}</b>{fnodes}</li>)\n     }\n     var reqnodes2:JSX.Element[]=[];\n     if(reqnodes.length!=0){\n         reqnodes2=[<div>\n                     <b>Requires:</b>\n                         <ul>\n                         {reqnodes}\n                         </ul>\n                 </div>];\n     }\n\n\n     //The bill of materials\n     /*\n     var bom:Docubricks.Bom = brick.getBom(proj,false);\n     if(!bom.isEmpty()){\n         mnodes.push(\n                 <div>\n                     <div className=\"divbrickbom\">\n                         <h3>Materials for this brick</h3>\n                     </div>\n                     <BomList proj={proj} bom={bom}/>\n                 </div>);\n     }\n     */\n\n\n     //All the instructions\n     var instrnodes:JSX.Element[]=[];\n     for(let instr of brick.instructions){\n         instrnodes.push(<div key={brickkey+\"_\"+instr.name}>\n                 <InstructionList proj={proj} brick={brick} part={null} instr={instr}/></div>);\n     }\n\n     var ret:JSX.Element=<div>\n         <div className=\"brickdiv\"><h1 id={\"brick_\"+brickid}>{brick.name}</h1></div>\n         {mnodes}\n         {reqnodes2}\n         {instrnodes}\n         </div>;\n     return ret;\n  }\n\n\n}\n\n\n\n\n/**\n * One part\n **/\nexport interface PartProps {proj: Docubricks.Project; partid:string;}\nexport class Part extends React.Component<PartProps, undefined> {\n render() {\n     var proj:Docubricks.Project=this.props.proj;\n     var partid:string=this.props.partid;\n     var part:Docubricks.Part=proj.getPartByName(partid);\n     var partkey=\"part\"+partid;\n\n     ////////////////////////////xpublic files: MediaFile[];\n\n\n     var mnodes:JSX.Element[]=[];\n     var addField=function(name:string,value:string):void{\n         if(value!=\"\")\n             mnodes.push(<p key={partkey+\"_\"+name}><b>{name}: </b>{value}</p>);\n     }\n     addField(\"Description\",part.description);\n     mnodes.push(<Files key={partkey+\"_files\"} proj={proj} files={part.files} basekey={partkey}/>);\n     addField(\"Supplier\",part.supplier);\n     addField(\"Supplier catalog #\",part.supplier_part_num);\n     addField(\"Manufacturer catalog #\",part.manufacturer_part_num);\n     if(part.url!=\"\")\n         mnodes.push(<p key={partkey+\"_url\"}><b>URL: </b>{formatURL(part.url)}</p>);\n     if(part.material_amount!=\"\")\n         addField(\"Material usage\",part.material_amount+\" \"+part.material_unit);\n\n     //All the instructions\n     if(part.manufacturing_instruction.steps.length!=null){\n         mnodes.push(<div key={partkey+\"_instr\"}>\n                 <InstructionList proj={proj} brick={null} part={part} instr={part.manufacturing_instruction}/></div>);\n     }\n\n     var ret:JSX.Element=<div>\n         <div className=\"partdiv\"><h3 id={\"part_\"+partid}>Part: {part.name}</h3></div>\n         {mnodes}\n         </div>;\n     return ret;\n }\n}\n\n\n\n/**\n * One author\n */\nexport interface AuthorProps {proj: Docubricks.Project; authorid:string;}\nexport class Author extends React.Component<AuthorProps, undefined> {\n render() {\n     var proj:Docubricks.Project=this.props.proj;\n     var author:Docubricks.Author=proj.getAuthorById(this.props.authorid);\n     return <tr key={\"authorrow_\"+author.id}>\n                 <td>{author.name}</td>\n                 <td>{author.email}</td>\n                 <td>{author.affiliation}</td>\n                 <td>{author.orcid}</td>\n            </tr>;\n }\n}\n\n\n\n\n\n/**\n * List of instructions\n */\nexport interface InstructionListProps\n    {proj: Docubricks.Project; brick:Docubricks.Brick; part:Docubricks.Part; instr:Docubricks.StepByStepInstruction;}\nexport class InstructionList extends React.Component<InstructionListProps, undefined> {\n    render() {\n     var proj:Docubricks.Project=this.props.proj;\n     var brick:Docubricks.Brick=this.props.brick;\n     var instr:Docubricks.StepByStepInstruction=this.props.instr;\n\n     var key;\n     if(brick!=null)\n         key=\"instrBrick\"+brick.id+\"_instr\"+instr.name;\n     else\n         key=\"instrPart\"+this.props.part.id+\"_instr\"+instr.name;\n\n     var snodes:JSX.Element[]=[];\n     var curstep:number=1;\n     for(let step of instr.steps){\n         var stepkey=key+\"_\"+curstep;\n         snodes.push(<div className=\"step\" key={stepkey}>\n           <hr/>\n                 <nav className=\"image-col\">\n                     <Files proj={proj} files={step.files} basekey={stepkey}/>\n                 </nav>\n                 <article className=\"text-col\">\n                     <b>Step {curstep}. </b>\n                     {step.description}\n                 </article>\n             </div>);\n         const divclear = {clear:\"both\"};\n         snodes.push(<div key={stepkey+\"_end\"} style={divclear}/>);\n         curstep++;\n     }\n     var instrtitle:string = \"Instruction: \"+instr.name;\n     if(instr.name==\"assembly\")\n         instrtitle=\"Assembly instruction\";\n     if(snodes.length>0)\n         return <div key={key+\"_main\"}><h3>{instrtitle}</h3>{snodes}</div>;\n     else\n         return <div key={key+\"_main\"}></div>;\n }\n}\n\n\n\n\n\n\n/**\n * Bill of materials\n */\nexport interface BomProps\n    {proj: Docubricks.Project; bom:Docubricks.Bom}\nexport class BomList extends React.Component<BomProps, undefined> {\nrender() {\n    var proj:Docubricks.Project=this.props.proj;\n    var snodes:JSX.Element[]=[];\n\n    var roots:string[] = proj.getRootBricks();\n    if(roots.length>0){\n        var root:Docubricks.Brick=proj.getBrickByName(roots[0]);\n        var bom:Docubricks.Bom = root.getBom(proj,true);\n\n        //Loop over parts\n        var key=\"mainbom_\";\n        var curstep:number=1;\n        for(let partid of bom.bom.keys()){\n            var quantity=bom.bom.get(partid);\n            var part:Docubricks.Part=proj.getPartByName(partid);\n            var stepkey=key+curstep;\n            curstep++;\n\n            snodes.push(\n                <tr key={stepkey}>\n                    <td>{part.name}</td>\n                    <td>{quantity}</td>\n                    <td>{part.supplier}</td>\n                    <td>{part.supplier_part_num}</td>\n                    <td>{formatURL(part.url)}</td>\n                </tr>);\n        }\n\n        } else {\n            return <div></div>;\n        }\n\n    return <div key={key+\"_main\"}>\n            <table>\n                <thead>\n                    <tr>\n                    <th>Part</th>\n                    <th>Quantity</th>\n                    <th>Supplier</th>\n                    <th>Supplier part number</th>\n                    <th>URL</th>\n                </tr>\n                </thead>\n                <tbody>\n                    {snodes}\n                </tbody>\n            </table>\n            </div>;\n    }\n\n\n}\n\n\nvar urlcount:number=1;\nvar formatURL=function(url:string):JSX.Element[]{\n    urlcount=urlcount+1;\n    var ret:JSX.Element[]=[];\n    if(url!=\"\"){\n        var s:String=new String(url);\n        s=s.replace(/.+\\:\\/\\//gi, \"\");\n        s=s.replace(/\\/.*/gi, \"\");\n        ret.push(<a key={\"url_\"+urlcount+\"_\"+url} href={url}>{s.toString()}</a>)\n    }\n    return ret;\n}\n\n\nvar formatURLfile=function(url:string, filename:string):JSX.Element[]{\n    urlcount=urlcount+1;\n    var ret:JSX.Element[]=[];\n    if(url!=\"\"){\n        ret.push(<p key={\"url_\"+urlcount+\"_\"+url}><a href={url}><b>File: {filename}</b></a></p>)\n    }\n    return ret;\n}\n\nvar getQueryStringValue=function(key:string):string {\n    return decodeURIComponent(\n            window.location.search.replace(\n                    new RegExp(\"^(?:.*[&\\\\?]\" + encodeURIComponent(key).\n                            replace(/[\\.\\+\\*]/g, \"\\\\$&\") + \"(?:\\\\=([^&]*))?)?.*$\", \"i\"), \"$1\"));\n}\n\n\n\n/**\n * List of files\n */\nexport interface FilesProps\n    {proj: Docubricks.Project; files:Docubricks.MediaFile[]; basekey:string}\nexport class Files extends React.Component<FilesProps, undefined> {\n    render() {\n        var proj:Docubricks.Project=this.props.proj;\n        var files:Docubricks.MediaFile[]=this.props.files;\n\n        function isImage(url:string) {\n            return(url.toLowerCase().match(/\\.(jpeg|jpg|gif|png|svg)$/) != null);\n        }\n\n        var projectid:string=getQueryStringValue(\"id\");\n        var basedir:string=\"./project/\";\n        if(projectid!=\"\"){\n            basedir=\"./project/\"+projectid+\"/\";\n        }\n        //var downloadlink=\"DownloadZip?id=\"+projectid;\n\n        //Collect the files and images\n        var inodes:JSX.Element[]=[];\n        var fnodes:JSX.Element[]=[];\n        for(let f of files){ //width=\"50%\"\n            const imgStyle = {\n                    maxWidth:'300px',\n                    //width:'100%',\n                    maxHeight:'300px',\n                    margin:'5px'\n            };\n\n            var imgurl=basedir+f.url;\n            if(isImage(imgurl)){\n                inodes.push(\n                        <a key={this.props.basekey+f.url} href={imgurl} data-lightbox=\"image\">\n                        <img src={imgurl} style={imgStyle}/>\n                </a>);\n            } else{\n                var s:String=new String(f.url);\n                s=s.replace(/.*\\//gi, \"\");\n                fnodes.push(formatURLfile(imgurl,s.toString())[0]);\n            }\n\n        }\n\n         return <div>{fnodes}{inodes}</div>\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/docubricksViewer.tsx","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 3\n// module chunks = 0","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nimport { DocubricksProject } from \"./docubricksViewer\";\nimport * as Docubricks from \"./docubricks\";\n\n//alert(getQueryStringValue(\"id\")); \n\n\nvar s= document.getElementById(\"hiddendata\").textContent;\ndocument.getElementById(\"hiddendata\").textContent=\"\";\nvar docu = Docubricks.docubricksFromJSON(s);\n\nReactDOM.render(\n    <DocubricksProject proj={docu}/>,\n    document.getElementById(\"example\")\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.tsx"],"sourceRoot":""}